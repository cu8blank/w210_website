<!DOCTYPE html>
<!--
	Transit by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html lang="en">
	<head>

		<meta charset="UTF-8">
		<title>Tourist Concierge</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		
		<script type="text/javascript" src="js/d3.min.js"></script>
        <script src="http://d3js.org/queue.v1.min.js"></script>
		<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
		<!--link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" /-->
		<link rel="stylesheet" type="text/css" href="css/keen-dashboards.css" />
		
        <!-- map file should be included after ammap.js -->
		<link rel="stylesheet" type="text/css" href="css/ammap.css" />
        <script src="js/ammap.js" type="text/javascript"></script>			
		<script src="js/worldLow.js" type="text/javascript"></script>
        
		
		
        <script type="text/javascript">
			
            
            var q = queue();
            
            q.defer(d3.csv, "data/example_flat_file.csv")
            .defer(d3.csv, "data/allcountry_data.csv")
            .await(read);
            
            
			/*******************   Read CSV    *******************/
            //read in CSV and draw table
			//columns: countrycode	country	currencycode	currency	rate_current	rate_7	rate_30	rate_90
            //d3.csv("data/example_flat_file.csv", function(data) {
            function read(error, data, data2) {
                //alert(JSON.stringify(data2[0]))
				// change string (from CSV) into number format
                data.forEach(function(d) {
                  d.countrycode = d.countrycode;
                  d.currencycode = d.currencycode;
                  d.rate_current = +d.rate_current;
                  d.rate_7 = +d.rate_7;
                });
				
                var csvval = d3.select(".inputcsvdata")
                    .text("NA")
					.style('color', '#f0f');;
                
                var areas1= [] //store the area country codes by collecting it in the list of dictionaries/hashtables
                data2.forEach(function(d){
                              areas1.push({
                                          id:   data2["country_code"],
                                          title: "the value",
                               });
                });
                
				var map = AmCharts.makeChart("mapdiv", {
					type: "map",
					theme: "light",
					projection: "Eckert5",
					
	
					dataProvider: {
						map: "worldLow",						
						getAreasFromMap: true,
						
						//***** Modify this section to change the hover over pop up boxes *****//
						//***** Or you can also modify each country in the worldLow.js file *****//
                        areas: areas1,
                        				
					}, //end data provider
	
					areasSettings: {
						autoZoom: true,
						selectedColor: "#CC0000"  //******* change this color for the zoomed in country *******//
					},
	
					smallMap: {}
				});
				
				//******* change this color for the zoomed in country *******//
				map.addListener("clickMapObject", function(event) {
                  var country_name = event.mapObject.title
				  alert("Map object id: " + event.mapObject.id + "\nMap object title: " + event.mapObject.title)
                
				  
					if (event.mapObject.id == "US") {
						var csvval = d3.select(".inputcsvdata")
											.text(country_name)
											.style('color', '#0f0');;					
					}  
					else    { 
						var csvval = d3.select(".inputcsvdata")  //this is the user data 
											.text(country_name)
											.style('color', '#3b6');;
                                
                        var result = d3.select(".summaryresult")
                                    .text(country_name)
                                    .style('color', '#3b6');;
					}   
				  
				  
				});
				
			}

        </script>
				
	</head>
	<body>

		<!-- Header -->
			<header id="header">
				<h1><a href="touristconcierge.html">Tourist Concierge</a></h1>
				<nav id="nav">
					<ul>
						<li><a href="touristconcierge.html">Home</a></li>
						<li><a href="theconcierge.html">Take Me to the Tourist Concierge</a></li>
						<!--li><a href="elements.html">Analysis</a></li-->
						<li><a href="touristconcierge.html#theteam">Meet the Team</a></li>
					</ul>
				</nav>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="container">

					<header class="major">
						<h2>Tourist Concierge - Try it Now!</h2>
						<p>Guiding you to your dream destination.</p>
					</header>


<! ************************* Start code here for dashboard ***************************>
				<section class="application">
					<script type="text/javascript" src="js/jquery.min.js"></script>
					<script type="text/javascript" src="js/bootstrap.min.js"></script>
					<script type="text/javascript" src="js/holder.js"></script>
					<script>
						Holder.add_theme("white", { background:"#fff", foreground:"#a7a7a7", size:10 });
					</script>
					<script type="text/javascript" src="js/keen.min.js"></script>
					
				<div class="container-fluid">
				  <!--first and second row -->
				  <div class="row">
					<div class="3u 12u$(medium)">
					  <div class="row">
						<div class="12u 12u$(medium)">
						  <div class="chart-wrapper">
							<div class="chart-title">
							  User Search Filter
							</div>
							<div class="chart-stage">
							  <!--img data-src="holder.js/100%x120/white"-->
							  <div class="inputcsvdata"></div></br> 
							</div>
							<div class="chart-notes">
							  Notes about this chart
							</div>
						  </div>
						</div>
					  </div>
					  <div class="row">
						<div class="12u 12u$(medium)">
						  <div class="chart-wrapper">
							<div class="chart-title">
							  Summary of user selection
							</div>
							<div class="chart-stage">
							  <!--img data-src="holder.js/100%x120/white"-->
                              <div class="summaryresult"></div></br>
							</div>
							<div class="chart-notes">
							  Notes about this chart
							</div>
						  </div>
						</div>
					  </div>
					</div>
					<div class="6u 12u$(medium)">
					  <div class="chart-wrapper">
						<div class="chart-title">
						  World Map
						</div>
						<div class="chart-stage">
						  <!--img data-src="holder.js/100%x325/white"-->						  
						  <div id="mapdiv" style="width: 100%; background-color:#EEEEEE; height: 325px;"></div>
						  
						</div>
						<div class="chart-notes">
						  Notes about this chart
						</div>
					  </div>
					</div>
					<div class="3u 12u$(medium)">
					  <div class="row">
						<div class="12u 12u$(medium)">
						  <div class="chart-wrapper">
							<div class="chart-title">
							  Predictions
							</div>
							<div class="chart-stage">
							  <img data-src="holder.js/100%x120/white">
							</div>
							<div class="chart-notes">
							  Notes about this chart
							</div>
						  </div>
						</div>
					  </div>
					  <div class="row">
						<div class="12u 12u$(medium)">
						  <div class="chart-wrapper">
							<div class="chart-title">
							  Recommendations?
							</div>
							<div class="chart-stage">
							  <img data-src="holder.js/100%x120/white">
							</div>
							<div class="chart-notes">
							  Notes about this chart
							</div>
						  </div>
						</div>
					  </div>
					</div>
				  </div>
				  
				  
				  <!--3rd row-->
				  <div class="row">
					<div class="4u 12u$(medium)">
					  <div class="chart-wrapper">
						<div class="chart-title">
						  Charts on current country selection
						</div>
						<div class="chart-stage">
						  <img data-src="holder.js/100%x120/white">
						</div>
						<div class="chart-notes">
						  Notes about this chart
						</div>
					  </div>
					</div>
					<div class="8u 12u$(medium)">
					  <div class="chart-wrapper">
						<div class="chart-title">
						  Table comparing multiple selected countries
						</div>
						<div class="chart-stage">
						  <img data-src="holder.js/100%x120/white">
						</div>
						<div class="chart-notes">
						  Notes about this chart
						</div>
					  </div>
					</div>
					
				  </div>
				  
				</div>
				
				</section>

<!-- ************************* End code here for dashboard ***************************-->
					<p></p>
					<p>We might decide to put more text here.</p>
					<p>Maybe give scenarios, use cases and examples of our product in action.</p>
					<p>And/or we can put additional charts that show our analysis and Machine Learning techniques that we used.</p>
			</section>
			

		<!-- Footer -->
			<footer id="footer">
					<div class="row">
						<div class="8u 12u$(medium)">
							<ul class="copyright">
								<li>&copy; Untitled. All rights reserved.</li>
								<li>Design: <a href="http://templated.co">TEMPLATED</a></li>
							</ul>
						</div>
					</div>
				</div>
			</footer>

	</body>
</html>